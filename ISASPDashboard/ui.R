
library(shiny)
library(tidyr)
library(dplyr)
library(ggplot2)
library(DT)
library(shinydashboard)

shinyUI(
  dashboardPage(
    dashboardHeader(title = "ISASP Dashboard"),

    ## Sidebar with controls
    dashboardSidebar(
      sidebarMenu(
        menuItem("Upload", tabName = "upload", icon = icon("Upload")),
        menuItem("Dashboard", tabName = "dashboard", icon = icon("dashboard"))
      ),

      selectInput(
        "tableType",
        label = "Table Type",
        choices = c(
          "Number of Questions",
          "Mean Scores",
          "Median Scores"
        )
      ),

      h4("Filter By Demo"),
      selectizeInput("demos",
        label = "Race",
        choices = c(
          "American Indian or Alaskan"="AmericanIndianorAlaskan",
          "Asian"="Asian", "African American"="AfricanAmerican",
          "Hispanic"="HispanicLatino", "Hawaiian / Pacific Islander"="HawaiianPacificIslander",
          "white"="White"
        ), multiple = T

      ),

      selectizeInput("programs",
        label = "Group",
        choices = c(
          "Military Connected" = "MilitaryConnected", "Special Ed" = "SE",
          "504 Plan"="plan504","Free/Reduced Lunch" ="FRL",
          "GT" = "GT", "ELL" = "ELL", "T1L" =  "T1L",
          "T1M"= "T1M", "Homeless" = "Homeless"
        ), multiple=T
      )
    ),
    dashboardBody(
      tabItems(
        tabItem(tabName = "upload",
                fluidRow(
                  fileInput("file1", "Upload the ISASP Data File",
                            multiple = TRUE,
                            accept = c(
                              "text/csv",
                              "text/comma-separated-values,text/plain",
                              ".txt"
                            )
                  )
                )

        ),
        tabItem(tabName = "dashboard",
          fluidPage(
            width=24,
            tabBox(
              title = "Sub Scores",
              tabPanel(
                id = "tabReading",
                title = "Reading",
                uiOutput("tableOutputReading")
              ),
              tabPanel(
                id = "tabLW",
                title = "Language/Writing",
                uiOutput("tableOutputLW")
              ),
              tabPanel(
                id = "tabScience",
                title = "Science",
                uiOutput("tableOutputScience")
              ),
              tabPanel(
                id = "tabMath",
                title = "Math",
                uiOutput("tableOutputMath")
              )

            )
          )
        )
      )


    ),
    title = "ISASP Dashboard"
  )
)
